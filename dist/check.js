!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=r.map(function(e){return e}).filter(function(t){return e.find(function(e){return e==t})});return console.log(o),o}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=r(0),i=(n=u)&&n.__esModule?n:{default:n};var c=new RegExp("^[<>]{0,2}d+$","g");t.default={validate:function(e,t){var r=this,n=Object.keys(t),o=n.filter(function(e){return!e.includes("?")}),u=Object.keys(e),c=(0,i.default)(o,u);return c.length>0&&this.logError({input:e,source:n,valid:!1,message:"ValidationError: "+JSON.stringify(e)+" missing keys ["+c+"]"}),o.forEach(function(n){return r.check(e[n],t[n])}),null},check:function(e,t){return t instanceof Function&&this.checkType(e,t),"string"==typeof t||t instanceof RegExp?this.checkString(e,t):c.test(t)||"Number"===this.getType(t)?this.checkNumber(e,t):void 0},checkType:function(e,t){return(!e||""+this.getType(t)[0].toLowerCase()+this.getType(t).slice(1))!==(!!e&&""+e.constructor.name[0].toLowerCase()+e.constructor.name.slice(1))?this.logError({input:e,source:t,valid:!1,message:JSON.stringify(e)+" should be of type "+this.getType(t)}):null},checkString:function(e,t){return t instanceof RegExp?this.logError({input:e,source:t,valid:t.test(e)}):this.logError({input:e,source:t,valid:t===e})},checkNumber:function(e,t){return!1},logError:function(e){var t="ValidationError: "+e.input+" type:"+o(e.input)+" must respect "+e.source+" type:"+o(e.source);if(e.valid)return null;throw new TypeError(e.message||t)},getType:function(e){return e.name||(void 0===e?"undefined":o(e))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vdXRpbHMvZGlmZmVyZW5jZS5qcyIsIndlYnBhY2s6Ly8vLi9jaGVjay5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiY29uZmlndXJhYmxlIiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJ2YWx1ZSIsIm4iLCJfX2VzTW9kdWxlIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwic291cmNlIiwiX2xlbiIsImFyZ3VtZW50cyIsImxlbmd0aCIsImlucHV0cyIsIkFycmF5IiwiX2tleSIsImRpZmZzIiwibWFwIiwiZmlsdGVyIiwiZmluZCIsImNvbnNvbGUiLCJsb2ciLCJfZGlmZmVyZW5jZSIsIm51bWJlclJlZ0V4cCIsIlJlZ0V4cCIsInZhbGlkYXRlIiwiaW5wdXQiLCJzY2hlbWEiLCJfdGhpcyIsInRoaXMiLCJrZXlzIiwibm90VmFyS2V5cyIsImsiLCJpbmNsdWRlcyIsImlucHV0S2V5cyIsImtleURpZmZlcmVuY2UiLCJfZGlmZmVyZW5jZTIiLCJkZWZhdWx0IiwibG9nRXJyb3IiLCJ2YWxpZCIsIm1lc3NhZ2UiLCJKU09OIiwic3RyaW5naWZ5IiwiZm9yRWFjaCIsImtleSIsImNoZWNrIiwiRnVuY3Rpb24iLCJjaGVja1R5cGUiLCJjaGVja1N0cmluZyIsInRlc3QiLCJnZXRUeXBlIiwiY2hlY2tOdW1iZXIiLCJ0b0xvd2VyQ2FzZSIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJlcnJvciIsIl90eXBlb2YiLCJUeXBlRXJyb3IiXSwibWFwcGluZ3MiOiJhQUNBLElBQUFBLEtBR0EsU0FBQUMsRUFBQUMsR0FHQSxHQUFBRixFQUFBRSxHQUNBLE9BQUFGLEVBQUFFLEdBQUFDLFFBR0EsSUFBQUMsRUFBQUosRUFBQUUsSUFDQUcsRUFBQUgsRUFDQUksR0FBQSxFQUNBSCxZQVVBLE9BTkFJLEVBQUFMLEdBQUFNLEtBQUFKLEVBQUFELFFBQUFDLElBQUFELFFBQUFGLEdBR0FHLEVBQUFFLEdBQUEsRUFHQUYsRUFBQUQsUUFLQUYsRUFBQVEsRUFBQUYsRUFHQU4sRUFBQVMsRUFBQVYsRUFHQUMsRUFBQVUsRUFBQSxTQUFBUixFQUFBUyxFQUFBQyxHQUNBWixFQUFBYSxFQUFBWCxFQUFBUyxJQUNBRyxPQUFBQyxlQUFBYixFQUFBUyxHQUNBSyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQU4sS0FNQVosRUFBQW1CLEVBQUEsU0FBQWpCLEdBQ0FZLE9BQUFDLGVBQUFiLEVBQUEsY0FBaURrQixPQUFBLEtBSWpEcEIsRUFBQXFCLEVBQUEsU0FBQWxCLEdBQ0EsSUFBQVMsRUFBQVQsS0FBQW1CLFdBQ0EsV0FBMkIsT0FBQW5CLEVBQUEsU0FDM0IsV0FBaUMsT0FBQUEsR0FFakMsT0FEQUgsRUFBQVUsRUFBQUUsRUFBQSxJQUFBQSxHQUNBQSxHQUlBWixFQUFBYSxFQUFBLFNBQUFVLEVBQUFDLEdBQXNELE9BQUFWLE9BQUFXLFVBQUFDLGVBQUFuQixLQUFBZ0IsRUFBQUMsSUFHdER4QixFQUFBMkIsRUFBQSxHQUlBM0IsSUFBQTRCLEVBQUEsNkZDbkVlLFNBQUNDLEdBQXNCLFFBQUFDLEVBQUFDLFVBQUFDLE9BQVhDLEVBQVdDLE1BQUFKLEVBQUEsRUFBQUEsRUFBQSxLQUFBSyxFQUFBLEVBQUFBLEVBQUFMLEVBQUFLLElBQVhGLEVBQVdFLEVBQUEsR0FBQUosVUFBQUksR0FDcEMsSUFDSUMsRUFEY0gsRUFBT0ksSUFBSSxTQUFBakMsR0FBQSxPQUFLQSxJQUNaa0MsT0FBTyxTQUFBbEMsR0FBQSxPQUFLeUIsRUFBT1UsS0FBSyxTQUFBWCxHQUFBLE9BQUtBLEdBQUt4QixNQUV4RCxPQURBb0MsUUFBUUMsSUFBSUwsR0FDTEEsb1NDSlRNLEVBQUExQyxFQUFBLHVDQUNBLElBQU0yQyxFQUFlLElBQUlDLE9BQU8sZ0JBQWtCLGdCQUdoREMsU0FEYyxTQUNMQyxFQUFPQyxHQUFRLElBQUFDLEVBQUFDLEtBQ2hCQyxFQUFPcEMsT0FBT29DLEtBQUtILEdBQ25CSSxFQUFhRCxFQUFLWixPQUFPLFNBQUFjLEdBQUEsT0FBTUEsRUFBRUMsU0FBUyxPQUMxQ0MsRUFBWXhDLE9BQU9vQyxLQUFLSixHQUN4QlMsR0FBZ0IsRUFBQUMsRUFBQUMsU0FBV04sRUFBWUcsR0FXN0MsT0FUSUMsRUFBY3ZCLE9BQVMsR0FBR2lCLEtBQUtTLFVBQ2pDWixRQUNBakIsT0FBUXFCLEVBQ1JTLE9BQU8sRUFDUEMsNEJBQTZCQyxLQUFLQyxVQUFVaEIsR0FBNUMsa0JBQW9FUyxFQUFwRSxNQUdGSixFQUFXWSxRQUFRLFNBQUFDLEdBQUEsT0FBT2hCLEVBQUtpQixNQUFNbkIsRUFBTWtCLEdBQU1qQixFQUFPaUIsTUFFakQsTUFFVEMsTUFsQmMsU0FrQlJuQixFQUFPakIsR0FHWCxPQUZJQSxhQUFrQnFDLFVBQVVqQixLQUFLa0IsVUFBVXJCLEVBQU9qQixHQUVoQyxpQkFBWEEsR0FBdUJBLGFBQWtCZSxPQUMzQ0ssS0FBS21CLFlBQVl0QixFQUFPakIsR0FDdEJjLEVBQWEwQixLQUFLeEMsSUFBb0MsV0FBekJvQixLQUFLcUIsUUFBUXpDLEdBQzVDb0IsS0FBS3NCLFlBQVl6QixFQUFPakIsUUFEMUIsR0FJVHNDLFVBM0JjLFNBMkJKckIsRUFBT2pCLEdBR2YsUUFGVWlCLE1BQVlHLEtBQUtxQixRQUFRekMsR0FBUSxHQUFJMkMsY0FBZ0J2QixLQUFLcUIsUUFBUXpDLEdBQVE0QyxNQUFNLFNBQzNFM0IsTUFBWUEsRUFBTTRCLFlBQVkvRCxLQUFLLEdBQUk2RCxjQUFnQjFCLEVBQU00QixZQUFZL0QsS0FBSzhELE1BQU0sSUFFMUZ4QixLQUFLUyxVQUNWWixRQUNBakIsU0FDQThCLE9BQU8sRUFDUEMsUUFBWUMsS0FBS0MsVUFBVWhCLEdBQTNCLHNCQUF1REcsS0FBS3FCLFFBQVF6QyxLQUdqRSxNQUVUdUMsWUF4Q2MsU0F3Q0Z0QixFQUFPakIsR0FDakIsT0FBSUEsYUFBa0JlLE9BQ2JLLEtBQUtTLFVBQ1ZaLFFBQ0FqQixTQUNBOEIsTUFBTzlCLEVBQU93QyxLQUFLdkIsS0FHZEcsS0FBS1MsVUFDVlosUUFDQWpCLFNBQ0E4QixNQUFPOUIsSUFBV2lCLEtBSXhCeUIsWUF2RGMsU0F1REZ6QixFQUFPakIsR0FDakIsT0FBTyxHQUVUNkIsU0ExRGMsU0EwRExpQixHQUNQLElBQU1mLHNCQUE4QmUsRUFBTTdCLE1BQXBDLFNBQUE4QixFQUF5REQsRUFBTTdCLE9BQS9ELGlCQUFxRjZCLEVBQU05QyxPQUEzRixTQUFBK0MsRUFBaUhELEVBQU05QyxRQUM3SCxHQUFLOEMsRUFBTWhCLE1BR1QsT0FBTyxLQUZQLE1BQU0sSUFBSWtCLFVBQVVGLEVBQU1mLFNBQVdBLElBS3pDVSxRQWxFYyxTQWtFTnpDLEdBQ04sT0FBT0EsRUFBT2xCLFlBQVAsSUFBc0JrQixFQUF0QixZQUFBK0MsRUFBc0IvQyIsImZpbGUiOiJjaGVjay5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMSk7XG4iLCJleHBvcnQgZGVmYXVsdCAoc291cmNlLCAuLi5pbnB1dHMpID0+IHtcbiAgY29uc3QgZmxhdEFycmF5ID0gaW5wdXRzLm1hcChpID0+IGkpO1xuICBsZXQgZGlmZnMgPSBmbGF0QXJyYXkuZmlsdGVyKGkgPT4gc291cmNlLmZpbmQocyA9PiBzID09IGkpKTtcbiAgY29uc29sZS5sb2coZGlmZnMpO1xuICByZXR1cm4gZGlmZnM7XG59OyIsImltcG9ydCBkaWZmZXJlbmNlIGZyb20gJy4vdXRpbHMvZGlmZmVyZW5jZSc7XG5jb25zdCBudW1iZXJSZWdFeHAgPSBuZXcgUmVnRXhwKCdeWzw+XXswLDJ9XFxkKyQnLCAnZycpO1xuXG5leHBvcnQgZGVmYXVsdCAoe1xuICB2YWxpZGF0ZShpbnB1dCwgc2NoZW1hKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHNjaGVtYSk7XG4gICAgY29uc3Qgbm90VmFyS2V5cyA9IGtleXMuZmlsdGVyKGsgPT4gIWsuaW5jbHVkZXMoJz8nKSk7XG4gICAgY29uc3QgaW5wdXRLZXlzID0gT2JqZWN0LmtleXMoaW5wdXQpO1xuICAgIGNvbnN0IGtleURpZmZlcmVuY2UgPSBkaWZmZXJlbmNlKG5vdFZhcktleXMsIGlucHV0S2V5cyk7XG5cbiAgICBpZiAoa2V5RGlmZmVyZW5jZS5sZW5ndGggPiAwKSB0aGlzLmxvZ0Vycm9yKHtcbiAgICAgIGlucHV0LFxuICAgICAgc291cmNlOiBrZXlzLFxuICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgbWVzc2FnZTogYFZhbGlkYXRpb25FcnJvcjogJHtKU09OLnN0cmluZ2lmeShpbnB1dCl9IG1pc3Npbmcga2V5cyBbJHtrZXlEaWZmZXJlbmNlfV1gXG4gICAgfSk7XG5cbiAgICBub3RWYXJLZXlzLmZvckVhY2goa2V5ID0+IHRoaXMuY2hlY2soaW5wdXRba2V5XSwgc2NoZW1hW2tleV0pKTtcblxuICAgIHJldHVybiBudWxsO1xuICB9LFxuICBjaGVjayhpbnB1dCwgc291cmNlKSB7XG4gICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB0aGlzLmNoZWNrVHlwZShpbnB1dCwgc291cmNlKTtcblxuICAgIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJyB8fCBzb3VyY2UgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgIHJldHVybiB0aGlzLmNoZWNrU3RyaW5nKGlucHV0LCBzb3VyY2UpO1xuICAgIH0gZWxzZSBpZiAobnVtYmVyUmVnRXhwLnRlc3Qoc291cmNlKSB8fCB0aGlzLmdldFR5cGUoc291cmNlKSA9PT0gJ051bWJlcicpIHtcbiAgICAgIHJldHVybiB0aGlzLmNoZWNrTnVtYmVyKGlucHV0LCBzb3VyY2UpO1xuICAgIH1cbiAgfSxcbiAgY2hlY2tUeXBlKGlucHV0LCBzb3VyY2UpIHtcbiAgICBjb25zdCB0ID0gaW5wdXQgPyBgJHsodGhpcy5nZXRUeXBlKHNvdXJjZSlbMF0pLnRvTG93ZXJDYXNlKCl9JHt0aGlzLmdldFR5cGUoc291cmNlKS5zbGljZSgxKX1gIDogdHJ1ZTtcbiAgICBjb25zdCB0SW5wdXQgPSBpbnB1dCA/IGAkeyhpbnB1dC5jb25zdHJ1Y3Rvci5uYW1lWzBdKS50b0xvd2VyQ2FzZSgpfSR7aW5wdXQuY29uc3RydWN0b3IubmFtZS5zbGljZSgxKX1gIDogZmFsc2U7XG4gICAgaWYgKHQgIT09IHRJbnB1dCkge1xuICAgICAgcmV0dXJuIHRoaXMubG9nRXJyb3Ioe1xuICAgICAgICBpbnB1dCxcbiAgICAgICAgc291cmNlLFxuICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgIG1lc3NhZ2U6IGAke0pTT04uc3RyaW5naWZ5KGlucHV0KX0gc2hvdWxkIGJlIG9mIHR5cGUgJHt0aGlzLmdldFR5cGUoc291cmNlKX1gXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIGNoZWNrU3RyaW5nKGlucHV0LCBzb3VyY2UpIHtcbiAgICBpZiAoc291cmNlIGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICByZXR1cm4gdGhpcy5sb2dFcnJvcih7XG4gICAgICAgIGlucHV0LFxuICAgICAgICBzb3VyY2UsXG4gICAgICAgIHZhbGlkOiBzb3VyY2UudGVzdChpbnB1dCksXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMubG9nRXJyb3Ioe1xuICAgICAgICBpbnB1dCxcbiAgICAgICAgc291cmNlLFxuICAgICAgICB2YWxpZDogc291cmNlID09PSBpbnB1dCxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgY2hlY2tOdW1iZXIoaW5wdXQsIHNvdXJjZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgbG9nRXJyb3IoZXJyb3IpIHtcbiAgICBjb25zdCBtZXNzYWdlID0gYFZhbGlkYXRpb25FcnJvcjogJHtlcnJvci5pbnB1dH0gdHlwZToke3R5cGVvZiBlcnJvci5pbnB1dH0gbXVzdCByZXNwZWN0ICR7ZXJyb3Iuc291cmNlfSB0eXBlOiR7dHlwZW9mIGVycm9yLnNvdXJjZX1gO1xuICAgIGlmICghZXJyb3IudmFsaWQpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoZXJyb3IubWVzc2FnZSB8fCBtZXNzYWdlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9LFxuICBnZXRUeXBlKHNvdXJjZSkge1xuICAgIHJldHVybiBzb3VyY2UubmFtZSB8fCB0eXBlb2Ygc291cmNlO1xuICB9XG59KTsiXSwic291cmNlUm9vdCI6IiJ9