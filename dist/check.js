!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=6)}([function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:u}catch(e){n=u}}();var s,l=[],f=!1,a=-1;function p(){f&&s&&(f=!1,s.length?l=s.concat(l):a=-1,l.length&&y())}function y(){if(!f){var e=c(p);f=!0;for(var t=l.length;t;){for(s=l,l=[];++a<t;)s&&s[a].run();a=-1,t=l.length}s=null,f=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===u||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function g(e,t){this.fun=e,this.array=t}function d(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];l.push(new g(e,t)),1!==l.length||f||c(y)},g.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=d,o.addListener=d,o.once=d,o.off=d,o.removeListener=d,o.removeAllListeners=d,o.emit=d,o.prependListener=d,o.prependOnceListener=d,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){(function(e,n){var o=/%[sdj%]/g;t.format=function(e){if(!v(e)){for(var t=[],r=0;r<arguments.length;r++)t.push(c(arguments[r]));return t.join(" ")}r=1;for(var n=arguments,i=n.length,u=String(e).replace(o,function(e){if("%%"===e)return"%";if(r>=i)return e;switch(e){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch(e){return"[Circular]"}default:return e}}),s=n[r];r<i;s=n[++r])d(s)||!w(s)?u+=" "+s:u+=" "+c(s);return u},t.deprecate=function(r,o){if(m(e.process))return function(){return t.deprecate(r,o).apply(this,arguments)};if(!0===n.noDeprecation)return r;var i=!1;return function(){if(!i){if(n.throwDeprecation)throw new Error(o);n.traceDeprecation?console.trace(o):console.error(o),i=!0}return r.apply(this,arguments)}};var i,u={};function c(e,r){var n={seen:[],stylize:l};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(r)?n.showHidden=r:r&&t._extend(n,r),m(n.showHidden)&&(n.showHidden=!1),m(n.depth)&&(n.depth=2),m(n.colors)&&(n.colors=!1),m(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=s),f(n,e,n.depth)}function s(e,t){var r=c.styles[t];return r?"["+c.colors[r][0]+"m"+e+"["+c.colors[r][1]+"m":e}function l(e,t){return e}function f(e,r,n){if(e.customInspect&&r&&j(r.inspect)&&r.inspect!==t.inspect&&(!r.constructor||r.constructor.prototype!==r)){var o=r.inspect(n,e);return v(o)||(o=f(e,o,n)),o}var i=function(e,t){if(m(t))return e.stylize("undefined","undefined");if(v(t)){var r="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(r,"string")}if(h(t))return e.stylize(""+t,"number");if(g(t))return e.stylize(""+t,"boolean");if(d(t))return e.stylize("null","null")}(e,r);if(i)return i;var u=Object.keys(r),c=function(e){var t={};return e.forEach(function(e,r){t[e]=!0}),t}(u);if(e.showHidden&&(u=Object.getOwnPropertyNames(r)),E(r)&&(u.indexOf("message")>=0||u.indexOf("description")>=0))return a(r);if(0===u.length){if(j(r)){var s=r.name?": "+r.name:"";return e.stylize("[Function"+s+"]","special")}if(b(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(O(r))return e.stylize(Date.prototype.toString.call(r),"date");if(E(r))return a(r)}var l,w="",S=!1,x=["{","}"];(y(r)&&(S=!0,x=["[","]"]),j(r))&&(w=" [Function"+(r.name?": "+r.name:"")+"]");return b(r)&&(w=" "+RegExp.prototype.toString.call(r)),O(r)&&(w=" "+Date.prototype.toUTCString.call(r)),E(r)&&(w=" "+a(r)),0!==u.length||S&&0!=r.length?n<0?b(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special"):(e.seen.push(r),l=S?function(e,t,r,n,o){for(var i=[],u=0,c=t.length;u<c;++u)k(t,String(u))?i.push(p(e,t,r,n,String(u),!0)):i.push("");return o.forEach(function(o){o.match(/^\d+$/)||i.push(p(e,t,r,n,o,!0))}),i}(e,r,n,c,u):u.map(function(t){return p(e,r,n,c,t,S)}),e.seen.pop(),function(e,t,r){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return r[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+r[1];return r[0]+t+" "+e.join(", ")+" "+r[1]}(l,w,x)):x[0]+w+x[1]}function a(e){return"["+Error.prototype.toString.call(e)+"]"}function p(e,t,r,n,o,i){var u,c,s;if((s=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]}).get?c=s.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):s.set&&(c=e.stylize("[Setter]","special")),k(n,o)||(u="["+o+"]"),c||(e.seen.indexOf(s.value)<0?(c=d(r)?f(e,s.value,null):f(e,s.value,r-1)).indexOf("\n")>-1&&(c=i?c.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+c.split("\n").map(function(e){return"   "+e}).join("\n")):c=e.stylize("[Circular]","special")),m(u)){if(i&&o.match(/^\d+$/))return c;(u=JSON.stringify(""+o)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(u=u.substr(1,u.length-2),u=e.stylize(u,"name")):(u=u.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),u=e.stylize(u,"string"))}return u+": "+c}function y(e){return Array.isArray(e)}function g(e){return"boolean"==typeof e}function d(e){return null===e}function h(e){return"number"==typeof e}function v(e){return"string"==typeof e}function m(e){return void 0===e}function b(e){return w(e)&&"[object RegExp]"===S(e)}function w(e){return"object"==typeof e&&null!==e}function O(e){return w(e)&&"[object Date]"===S(e)}function E(e){return w(e)&&("[object Error]"===S(e)||e instanceof Error)}function j(e){return"function"==typeof e}function S(e){return Object.prototype.toString.call(e)}function x(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(m(i)&&(i=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!u[e])if(new RegExp("\\b"+e+"\\b","i").test(i)){var r=n.pid;u[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,r,n)}}else u[e]=function(){};return u[e]},t.inspect=c,c.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},c.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=y,t.isBoolean=g,t.isNull=d,t.isNullOrUndefined=function(e){return null==e},t.isNumber=h,t.isString=v,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=m,t.isRegExp=b,t.isObject=w,t.isDate=O,t.isError=E,t.isFunction=j,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=r(1);var T=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function k(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,r;console.log("%s - %s",(e=new Date,r=[x(e.getHours()),x(e.getMinutes()),x(e.getSeconds())].join(":"),[e.getDate(),T[e.getMonth()],r].join(" ")),t.format.apply(t,arguments))},t.inherits=r(0),t._extend=function(e,t){if(!t||!w(t))return e;for(var r=Object.keys(t),n=r.length;n--;)e[r[n]]=t[r[n]];return e}}).call(this,r(3),r(2))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.difference=void 0;var n=r(4);t.difference=function(e,t){var r=t.filter(function(e){return!(0,n.isNull)(e)&&void 0!==e}).map(function(e){return e instanceof Object?JSON.stringify(e):e});return e.filter(function(e){return!(0,n.isNull)(e)&&void 0!==e}).filter(function(e){var t=e instanceof Object?JSON.stringify(e):e,n=r.indexOf(t);return n>=0&&r.splice(n,1),!(n>=0)})}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=r(5),i=new RegExp(/[\-\+]{0,1}\d+(\.\d+)?/,"g"),u=new RegExp(/^>\d+(\.\d+)?$/),c=new RegExp(/^<\d+(\.\d+)?$/),s=new RegExp(/^\d+(\.\d+)?<>\d+(\.\d+)?$/);t.default={validate:function(e,t){var r=this,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Object.keys(t),u=i.filter(function(e){return!e.includes("?")}),c=Object.keys(e),s=(0,o.difference)(u,c);return s.length>0?this.logError({input:e,source:i,valid:!1,message:"ValidationError: "+JSON.stringify(e)+" missing keys ["+s+"]"}):(c.forEach(function(o){var u=t[o]||t["?"+o];if(u)r.check(e[o],u);else if(!u&&n)return r.checkArray(c,i)}),null)},check:function(e,t){if(t instanceof Function)return this.checkType(e,t);var r=u.test(t)||c.test(t)||s.test(t)||"Number"===this.getType(t),n="string"==typeof t||t instanceof RegExp||"String"===this.getType(t),o=t instanceof Array,i="Object"===this.getType(t);return r?this.checkNumber(e,t):n?this.checkString(e,t):o?this.checkArray(e,t):i?void 0:this.checkObject(e,t)},checkType:function(e,t){return(!e||""+this.getType(t)[0].toLowerCase()+this.getType(t).slice(1))!==(!!e&&""+e.constructor.name[0].toLowerCase()+e.constructor.name.slice(1))?this.logError({input:e,source:t,valid:!1,message:JSON.stringify(e)+" should be of type "+this.getType(t)}):null},checkString:function(e,t){return t instanceof RegExp?this.logError({input:e,source:t,valid:t.test(e)}):this.logError({input:e,source:t,valid:t===e})},checkNumber:function(e,t){var r=c.test(t),n=u.test(t),o=s.test(t);if(o&&!r&&!n){var l=t.match(i)[0],f=parseFloat(l),a=t.match(i)[1],p=parseFloat(a);return this.logError({input:e,source:t,valid:e<p&&e>f})}if(n&&!r&&!o){var y=t.match(i)[0],g=parseFloat(y);return this.logError({input:e,source:t,valid:e>g})}if(r&&!o&&!n){var d=t.match(i)[0],h=parseFloat(d);return this.logError({input:e,source:t,valid:e<h})}},checkArray:function(e,t){var r=(0,o.difference)(t,e);return this.logError({input:JSON.stringify(e),source:JSON.stringify(t),valid:0===r.length})},checkObject:function(e,t){return this.validate(e,t)},logError:function(e){var t="ValidationError: "+e.input+" type:"+n(e.input)+" must respect "+e.source+" type:"+n(e.source);if(!e.valid)throw new TypeError(e.message||t);return null},getType:function(e){return e.name||(void 0===e?"undefined":n(e))}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V0aWwvc3VwcG9ydC9pc0J1ZmZlckJyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dGlsL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vdXRpbHMvc3JjL2FycmF5L2RpZmZlcmVuY2UuanMiLCJ3ZWJwYWNrOi8vLy4vY2hlY2suanMiXSwibmFtZXMiOlsiaW5zdGFsbGVkTW9kdWxlcyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJpIiwibCIsIm1vZHVsZXMiLCJjYWxsIiwibSIsImMiLCJkIiwibmFtZSIsImdldHRlciIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImNvbmZpZ3VyYWJsZSIsImVudW1lcmFibGUiLCJnZXQiLCJyIiwidmFsdWUiLCJuIiwiX19lc01vZHVsZSIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsImNyZWF0ZSIsImN0b3IiLCJzdXBlckN0b3IiLCJzdXBlcl8iLCJjb25zdHJ1Y3RvciIsIndyaXRhYmxlIiwiVGVtcEN0b3IiLCJhcmciLCJjb3B5IiwiZmlsbCIsInJlYWRVSW50OCIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJwcm9jZXNzIiwiZGVmYXVsdFNldFRpbW91dCIsIkVycm9yIiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJmdW4iLCJzZXRUaW1lb3V0IiwiZSIsInRoaXMiLCJjbGVhclRpbWVvdXQiLCJjdXJyZW50UXVldWUiLCJxdWV1ZSIsImRyYWluaW5nIiwicXVldWVJbmRleCIsImNsZWFuVXBOZXh0VGljayIsImxlbmd0aCIsImNvbmNhdCIsImRyYWluUXVldWUiLCJ0aW1lb3V0IiwibGVuIiwicnVuIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0IiwiSXRlbSIsImFycmF5Iiwibm9vcCIsIm5leHRUaWNrIiwiYXJncyIsIkFycmF5IiwiYXJndW1lbnRzIiwicHVzaCIsImFwcGx5IiwidGl0bGUiLCJicm93c2VyIiwiZW52IiwiYXJndiIsInZlcnNpb24iLCJ2ZXJzaW9ucyIsIm9uIiwiYWRkTGlzdGVuZXIiLCJvbmNlIiwib2ZmIiwicmVtb3ZlTGlzdGVuZXIiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJlbWl0IiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3RlbmVycyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiZyIsIkZ1bmN0aW9uIiwiZXZhbCIsIndpbmRvdyIsImdsb2JhbCIsImZvcm1hdFJlZ0V4cCIsImZvcm1hdCIsImYiLCJpc1N0cmluZyIsIm9iamVjdHMiLCJpbnNwZWN0Iiwiam9pbiIsInN0ciIsIlN0cmluZyIsInJlcGxhY2UiLCJ4IiwiTnVtYmVyIiwiSlNPTiIsInN0cmluZ2lmeSIsIl8iLCJpc051bGwiLCJpc09iamVjdCIsImRlcHJlY2F0ZSIsImZuIiwibXNnIiwiaXNVbmRlZmluZWQiLCJub0RlcHJlY2F0aW9uIiwid2FybmVkIiwidGhyb3dEZXByZWNhdGlvbiIsInRyYWNlRGVwcmVjYXRpb24iLCJjb25zb2xlIiwidHJhY2UiLCJlcnJvciIsImRlYnVnRW52aXJvbiIsImRlYnVncyIsIm9iaiIsIm9wdHMiLCJjdHgiLCJzZWVuIiwic3R5bGl6ZSIsInN0eWxpemVOb0NvbG9yIiwiZGVwdGgiLCJjb2xvcnMiLCJpc0Jvb2xlYW4iLCJzaG93SGlkZGVuIiwiX2V4dGVuZCIsImN1c3RvbUluc3BlY3QiLCJzdHlsaXplV2l0aENvbG9yIiwiZm9ybWF0VmFsdWUiLCJzdHlsZVR5cGUiLCJzdHlsZSIsInN0eWxlcyIsInJlY3Vyc2VUaW1lcyIsImlzRnVuY3Rpb24iLCJyZXQiLCJwcmltaXRpdmUiLCJzaW1wbGUiLCJpc051bWJlciIsImZvcm1hdFByaW1pdGl2ZSIsImtleXMiLCJ2aXNpYmxlS2V5cyIsImhhc2giLCJmb3JFYWNoIiwidmFsIiwiaWR4IiwiYXJyYXlUb0hhc2giLCJnZXRPd25Qcm9wZXJ0eU5hbWVzIiwiaXNFcnJvciIsImluZGV4T2YiLCJmb3JtYXRFcnJvciIsImlzUmVnRXhwIiwiUmVnRXhwIiwidG9TdHJpbmciLCJpc0RhdGUiLCJEYXRlIiwib3V0cHV0IiwiYmFzZSIsImJyYWNlcyIsImlzQXJyYXkiLCJ0b1VUQ1N0cmluZyIsImZvcm1hdFByb3BlcnR5Iiwia2V5IiwibWF0Y2giLCJmb3JtYXRBcnJheSIsIm1hcCIsInBvcCIsInJlZHVjZSIsInByZXYiLCJjdXIiLCJudW1MaW5lc0VzdCIsInJlZHVjZVRvU2luZ2xlU3RyaW5nIiwiZGVzYyIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsInNldCIsInNwbGl0IiwibGluZSIsInN1YnN0ciIsImFyIiwicmUiLCJvYmplY3RUb1N0cmluZyIsInBhZCIsImRlYnVnbG9nIiwiTk9ERV9ERUJVRyIsInRvVXBwZXJDYXNlIiwidGVzdCIsInBpZCIsImJvbGQiLCJpdGFsaWMiLCJ1bmRlcmxpbmUiLCJpbnZlcnNlIiwid2hpdGUiLCJncmV5IiwiYmxhY2siLCJibHVlIiwiY3lhbiIsImdyZWVuIiwibWFnZW50YSIsInJlZCIsInllbGxvdyIsInNwZWNpYWwiLCJudW1iZXIiLCJib29sZWFuIiwidW5kZWZpbmVkIiwibnVsbCIsInN0cmluZyIsImRhdGUiLCJyZWdleHAiLCJpc051bGxPclVuZGVmaW5lZCIsImlzU3ltYm9sIiwiaXNQcmltaXRpdmUiLCJpc0J1ZmZlciIsIm1vbnRocyIsInByb3AiLCJsb2ciLCJ0aW1lIiwiZ2V0SG91cnMiLCJnZXRNaW51dGVzIiwiZ2V0U2Vjb25kcyIsImdldERhdGUiLCJnZXRNb250aCIsImluaGVyaXRzIiwib3JpZ2luIiwiYWRkIiwiX3V0aWwiLCJkaWZmZXJlbmNlIiwic291cmNlIiwiaW5wdXRzIiwiZmxhdEFycmF5IiwiZmlsdGVyIiwiaW5kZXgiLCJzcGxpY2UiLCJfZGlmZmVyZW5jZSIsIm5SZWdFeCIsIm1heFJlZ0V4IiwibWluUmVnRXgiLCJyYW5nZVJlZ0V4IiwidmFsaWRhdGUiLCJpbnB1dCIsInNjaGVtYSIsIl90aGlzIiwic3RyaWN0Iiwibm90VmFyS2V5cyIsImsiLCJpbmNsdWRlcyIsImlucHV0S2V5cyIsImtleURpZmZlcmVuY2UiLCJsb2dFcnJvciIsInZhbGlkIiwibWVzc2FnZSIsImNoZWNrIiwiY2hlY2tBcnJheSIsImNoZWNrVHlwZSIsIm51bWJlclRlc3QiLCJnZXRUeXBlIiwic3RyaW5nVGVzdCIsImFycmF5VGVzdCIsIm9iamVjdFRlc3QiLCJjaGVja051bWJlciIsImNoZWNrU3RyaW5nIiwiY2hlY2tPYmplY3QiLCJ0b0xvd2VyQ2FzZSIsInNsaWNlIiwibWluVGVzdCIsIm1heFRlc3QiLCJyYW5nZVRlc3QiLCJtYXRjaE1pbiIsIm1pbiIsInBhcnNlRmxvYXQiLCJtYXRjaE1heCIsIm1heCIsImRpZmZzIiwiX3R5cGVvZiIsIlR5cGVFcnJvciJdLCJtYXBwaW5ncyI6ImFBQ0EsSUFBQUEsS0FHQSxTQUFBQyxFQUFBQyxHQUdBLEdBQUFGLEVBQUFFLEdBQ0EsT0FBQUYsRUFBQUUsR0FBQUMsUUFHQSxJQUFBQyxFQUFBSixFQUFBRSxJQUNBRyxFQUFBSCxFQUNBSSxHQUFBLEVBQ0FILFlBVUEsT0FOQUksRUFBQUwsR0FBQU0sS0FBQUosRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUYsR0FHQUcsRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQUtBRixFQUFBUSxFQUFBRixFQUdBTixFQUFBUyxFQUFBVixFQUdBQyxFQUFB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S0MsVUFBVStILEdBQ3ZCc0IsTUFBd0IsSUFBakJ1QixFQUFNcE8sVUFHakJ5TixZQTdHYyxTQTZHRnRCLEVBQU9aLEdBQ2pCLE9BQU85TCxLQUFLeU0sU0FBU0MsRUFBT1osSUFFOUJxQixTQWhIYyxTQWdITHRJLEdBQ1AsSUFBTXdJLHNCQUE4QnhJLEVBQU02SCxNQUFwQyxTQUFBa0MsRUFBeUQvSixFQUFNNkgsT0FBL0QsaUJBQXFGN0gsRUFBTWlILE9BQTNGLFNBQUE4QyxFQUFpSC9KLEVBQU1pSCxRQUM3SCxJQUFLakgsRUFBTXVJLE1BQ1QsTUFBTSxJQUFJeUIsVUFBVWhLLEVBQU13SSxTQUFXQSxHQUV2QyxPQUFPLE1BRVRLLFFBdkhjLFNBdUhONUIsR0FDTixPQUFPQSxFQUFPck8sWUFBUCxJQUFzQnFPLEVBQXRCLFlBQUE4QyxFQUFzQjlDIiwiZmlsZSI6ImNoZWNrLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA2KTtcbiIsImlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgfVxuICAgIH0pO1xuICB9O1xufSBlbHNlIHtcbiAgLy8gb2xkIHNjaG9vbCBzaGltIGZvciBvbGQgYnJvd3NlcnNcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgfVxufVxuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpc0J1ZmZlcihhcmcpIHtcbiAgcmV0dXJuIGFyZyAmJiB0eXBlb2YgYXJnID09PSAnb2JqZWN0J1xuICAgICYmIHR5cGVvZiBhcmcuY29weSA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcuZmlsbCA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiBhcmcucmVhZFVJbnQ4ID09PSAnZnVuY3Rpb24nO1xufSIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJ2YXIgZztcclxuXHJcbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXHJcbmcgPSAoZnVuY3Rpb24oKSB7XHJcblx0cmV0dXJuIHRoaXM7XHJcbn0pKCk7XHJcblxyXG50cnkge1xyXG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxyXG5cdGcgPSBnIHx8IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKSB8fCAoMSwgZXZhbCkoXCJ0aGlzXCIpO1xyXG59IGNhdGNoIChlKSB7XHJcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcclxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcclxufVxyXG5cclxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxyXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xyXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IGc7XHJcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG52YXIgZm9ybWF0UmVnRXhwID0gLyVbc2RqJV0vZztcbmV4cG9ydHMuZm9ybWF0ID0gZnVuY3Rpb24oZikge1xuICBpZiAoIWlzU3RyaW5nKGYpKSB7XG4gICAgdmFyIG9iamVjdHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgb2JqZWN0cy5wdXNoKGluc3BlY3QoYXJndW1lbnRzW2ldKSk7XG4gICAgfVxuICAgIHJldHVybiBvYmplY3RzLmpvaW4oJyAnKTtcbiAgfVxuXG4gIHZhciBpID0gMTtcbiAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gIHZhciBsZW4gPSBhcmdzLmxlbmd0aDtcbiAgdmFyIHN0ciA9IFN0cmluZyhmKS5yZXBsYWNlKGZvcm1hdFJlZ0V4cCwgZnVuY3Rpb24oeCkge1xuICAgIGlmICh4ID09PSAnJSUnKSByZXR1cm4gJyUnO1xuICAgIGlmIChpID49IGxlbikgcmV0dXJuIHg7XG4gICAgc3dpdGNoICh4KSB7XG4gICAgICBjYXNlICclcyc6IHJldHVybiBTdHJpbmcoYXJnc1tpKytdKTtcbiAgICAgIGNhc2UgJyVkJzogcmV0dXJuIE51bWJlcihhcmdzW2krK10pO1xuICAgICAgY2FzZSAnJWonOlxuICAgICAgICB0cnkge1xuICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmdzW2krK10pO1xuICAgICAgICB9IGNhdGNoIChfKSB7XG4gICAgICAgICAgcmV0dXJuICdbQ2lyY3VsYXJdJztcbiAgICAgICAgfVxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgfVxuICB9KTtcbiAgZm9yICh2YXIgeCA9IGFyZ3NbaV07IGkgPCBsZW47IHggPSBhcmdzWysraV0pIHtcbiAgICBpZiAoaXNOdWxsKHgpIHx8ICFpc09iamVjdCh4KSkge1xuICAgICAgc3RyICs9ICcgJyArIHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciArPSAnICcgKyBpbnNwZWN0KHgpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RyO1xufTtcblxuXG4vLyBNYXJrIHRoYXQgYSBtZXRob2Qgc2hvdWxkIG5vdCBiZSB1c2VkLlxuLy8gUmV0dXJucyBhIG1vZGlmaWVkIGZ1bmN0aW9uIHdoaWNoIHdhcm5zIG9uY2UgYnkgZGVmYXVsdC5cbi8vIElmIC0tbm8tZGVwcmVjYXRpb24gaXMgc2V0LCB0aGVuIGl0IGlzIGEgbm8tb3AuXG5leHBvcnRzLmRlcHJlY2F0ZSA9IGZ1bmN0aW9uKGZuLCBtc2cpIHtcbiAgLy8gQWxsb3cgZm9yIGRlcHJlY2F0aW5nIHRoaW5ncyBpbiB0aGUgcHJvY2VzcyBvZiBzdGFydGluZyB1cC5cbiAgaWYgKGlzVW5kZWZpbmVkKGdsb2JhbC5wcm9jZXNzKSkge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBleHBvcnRzLmRlcHJlY2F0ZShmbiwgbXNnKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cblxuICBpZiAocHJvY2Vzcy5ub0RlcHJlY2F0aW9uID09PSB0cnVlKSB7XG4gICAgcmV0dXJuIGZuO1xuICB9XG5cbiAgdmFyIHdhcm5lZCA9IGZhbHNlO1xuICBmdW5jdGlvbiBkZXByZWNhdGVkKCkge1xuICAgIGlmICghd2FybmVkKSB7XG4gICAgICBpZiAocHJvY2Vzcy50aHJvd0RlcHJlY2F0aW9uKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICAgICAgfSBlbHNlIGlmIChwcm9jZXNzLnRyYWNlRGVwcmVjYXRpb24pIHtcbiAgICAgICAgY29uc29sZS50cmFjZShtc2cpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihtc2cpO1xuICAgICAgfVxuICAgICAgd2FybmVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gIH1cblxuICByZXR1cm4gZGVwcmVjYXRlZDtcbn07XG5cblxudmFyIGRlYnVncyA9IHt9O1xudmFyIGRlYnVnRW52aXJvbjtcbmV4cG9ydHMuZGVidWdsb2cgPSBmdW5jdGlvbihzZXQpIHtcbiAgaWYgKGlzVW5kZWZpbmVkKGRlYnVnRW52aXJvbikpXG4gICAgZGVidWdFbnZpcm9uID0gcHJvY2Vzcy5lbnYuTk9ERV9ERUJVRyB8fCAnJztcbiAgc2V0ID0gc2V0LnRvVXBwZXJDYXNlKCk7XG4gIGlmICghZGVidWdzW3NldF0pIHtcbiAgICBpZiAobmV3IFJlZ0V4cCgnXFxcXGInICsgc2V0ICsgJ1xcXFxiJywgJ2knKS50ZXN0KGRlYnVnRW52aXJvbikpIHtcbiAgICAgIHZhciBwaWQgPSBwcm9jZXNzLnBpZDtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBtc2cgPSBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpO1xuICAgICAgICBjb25zb2xlLmVycm9yKCclcyAlZDogJXMnLCBzZXQsIHBpZCwgbXNnKTtcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlYnVnc1tzZXRdID0gZnVuY3Rpb24oKSB7fTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGRlYnVnc1tzZXRdO1xufTtcblxuXG4vKipcbiAqIEVjaG9zIHRoZSB2YWx1ZSBvZiBhIHZhbHVlLiBUcnlzIHRvIHByaW50IHRoZSB2YWx1ZSBvdXRcbiAqIGluIHRoZSBiZXN0IHdheSBwb3NzaWJsZSBnaXZlbiB0aGUgZGlmZmVyZW50IHR5cGVzLlxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmogVGhlIG9iamVjdCB0byBwcmludCBvdXQuXG4gKiBAcGFyYW0ge09iamVjdH0gb3B0cyBPcHRpb25hbCBvcHRpb25zIG9iamVjdCB0aGF0IGFsdGVycyB0aGUgb3V0cHV0LlxuICovXG4vKiBsZWdhY3k6IG9iaiwgc2hvd0hpZGRlbiwgZGVwdGgsIGNvbG9ycyovXG5mdW5jdGlvbiBpbnNwZWN0KG9iaiwgb3B0cykge1xuICAvLyBkZWZhdWx0IG9wdGlvbnNcbiAgdmFyIGN0eCA9IHtcbiAgICBzZWVuOiBbXSxcbiAgICBzdHlsaXplOiBzdHlsaXplTm9Db2xvclxuICB9O1xuICAvLyBsZWdhY3kuLi5cbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPj0gMykgY3R4LmRlcHRoID0gYXJndW1lbnRzWzJdO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+PSA0KSBjdHguY29sb3JzID0gYXJndW1lbnRzWzNdO1xuICBpZiAoaXNCb29sZWFuKG9wdHMpKSB7XG4gICAgLy8gbGVnYWN5Li4uXG4gICAgY3R4LnNob3dIaWRkZW4gPSBvcHRzO1xuICB9IGVsc2UgaWYgKG9wdHMpIHtcbiAgICAvLyBnb3QgYW4gXCJvcHRpb25zXCIgb2JqZWN0XG4gICAgZXhwb3J0cy5fZXh0ZW5kKGN0eCwgb3B0cyk7XG4gIH1cbiAgLy8gc2V0IGRlZmF1bHQgb3B0aW9uc1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LnNob3dIaWRkZW4pKSBjdHguc2hvd0hpZGRlbiA9IGZhbHNlO1xuICBpZiAoaXNVbmRlZmluZWQoY3R4LmRlcHRoKSkgY3R4LmRlcHRoID0gMjtcbiAgaWYgKGlzVW5kZWZpbmVkKGN0eC5jb2xvcnMpKSBjdHguY29sb3JzID0gZmFsc2U7XG4gIGlmIChpc1VuZGVmaW5lZChjdHguY3VzdG9tSW5zcGVjdCkpIGN0eC5jdXN0b21JbnNwZWN0ID0gdHJ1ZTtcbiAgaWYgKGN0eC5jb2xvcnMpIGN0eC5zdHlsaXplID0gc3R5bGl6ZVdpdGhDb2xvcjtcbiAgcmV0dXJuIGZvcm1hdFZhbHVlKGN0eCwgb2JqLCBjdHguZGVwdGgpO1xufVxuZXhwb3J0cy5pbnNwZWN0ID0gaW5zcGVjdDtcblxuXG4vLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0FOU0lfZXNjYXBlX2NvZGUjZ3JhcGhpY3Ncbmluc3BlY3QuY29sb3JzID0ge1xuICAnYm9sZCcgOiBbMSwgMjJdLFxuICAnaXRhbGljJyA6IFszLCAyM10sXG4gICd1bmRlcmxpbmUnIDogWzQsIDI0XSxcbiAgJ2ludmVyc2UnIDogWzcsIDI3XSxcbiAgJ3doaXRlJyA6IFszNywgMzldLFxuICAnZ3JleScgOiBbOTAsIDM5XSxcbiAgJ2JsYWNrJyA6IFszMCwgMzldLFxuICAnYmx1ZScgOiBbMzQsIDM5XSxcbiAgJ2N5YW4nIDogWzM2LCAzOV0sXG4gICdncmVlbicgOiBbMzIsIDM5XSxcbiAgJ21hZ2VudGEnIDogWzM1LCAzOV0sXG4gICdyZWQnIDogWzMxLCAzOV0sXG4gICd5ZWxsb3cnIDogWzMzLCAzOV1cbn07XG5cbi8vIERvbid0IHVzZSAnYmx1ZScgbm90IHZpc2libGUgb24gY21kLmV4ZVxuaW5zcGVjdC5zdHlsZXMgPSB7XG4gICdzcGVjaWFsJzogJ2N5YW4nLFxuICAnbnVtYmVyJzogJ3llbGxvdycsXG4gICdib29sZWFuJzogJ3llbGxvdycsXG4gICd1bmRlZmluZWQnOiAnZ3JleScsXG4gICdudWxsJzogJ2JvbGQnLFxuICAnc3RyaW5nJzogJ2dyZWVuJyxcbiAgJ2RhdGUnOiAnbWFnZW50YScsXG4gIC8vIFwibmFtZVwiOiBpbnRlbnRpb25hbGx5IG5vdCBzdHlsaW5nXG4gICdyZWdleHAnOiAncmVkJ1xufTtcblxuXG5mdW5jdGlvbiBzdHlsaXplV2l0aENvbG9yKHN0ciwgc3R5bGVUeXBlKSB7XG4gIHZhciBzdHlsZSA9IGluc3BlY3Quc3R5bGVzW3N0eWxlVHlwZV07XG5cbiAgaWYgKHN0eWxlKSB7XG4gICAgcmV0dXJuICdcXHUwMDFiWycgKyBpbnNwZWN0LmNvbG9yc1tzdHlsZV1bMF0gKyAnbScgKyBzdHIgK1xuICAgICAgICAgICAnXFx1MDAxYlsnICsgaW5zcGVjdC5jb2xvcnNbc3R5bGVdWzFdICsgJ20nO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBzdHI7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBzdHlsaXplTm9Db2xvcihzdHIsIHN0eWxlVHlwZSkge1xuICByZXR1cm4gc3RyO1xufVxuXG5cbmZ1bmN0aW9uIGFycmF5VG9IYXNoKGFycmF5KSB7XG4gIHZhciBoYXNoID0ge307XG5cbiAgYXJyYXkuZm9yRWFjaChmdW5jdGlvbih2YWwsIGlkeCkge1xuICAgIGhhc2hbdmFsXSA9IHRydWU7XG4gIH0pO1xuXG4gIHJldHVybiBoYXNoO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdFZhbHVlKGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcykge1xuICAvLyBQcm92aWRlIGEgaG9vayBmb3IgdXNlci1zcGVjaWZpZWQgaW5zcGVjdCBmdW5jdGlvbnMuXG4gIC8vIENoZWNrIHRoYXQgdmFsdWUgaXMgYW4gb2JqZWN0IHdpdGggYW4gaW5zcGVjdCBmdW5jdGlvbiBvbiBpdFxuICBpZiAoY3R4LmN1c3RvbUluc3BlY3QgJiZcbiAgICAgIHZhbHVlICYmXG4gICAgICBpc0Z1bmN0aW9uKHZhbHVlLmluc3BlY3QpICYmXG4gICAgICAvLyBGaWx0ZXIgb3V0IHRoZSB1dGlsIG1vZHVsZSwgaXQncyBpbnNwZWN0IGZ1bmN0aW9uIGlzIHNwZWNpYWxcbiAgICAgIHZhbHVlLmluc3BlY3QgIT09IGV4cG9ydHMuaW5zcGVjdCAmJlxuICAgICAgLy8gQWxzbyBmaWx0ZXIgb3V0IGFueSBwcm90b3R5cGUgb2JqZWN0cyB1c2luZyB0aGUgY2lyY3VsYXIgY2hlY2suXG4gICAgICAhKHZhbHVlLmNvbnN0cnVjdG9yICYmIHZhbHVlLmNvbnN0cnVjdG9yLnByb3RvdHlwZSA9PT0gdmFsdWUpKSB7XG4gICAgdmFyIHJldCA9IHZhbHVlLmluc3BlY3QocmVjdXJzZVRpbWVzLCBjdHgpO1xuICAgIGlmICghaXNTdHJpbmcocmV0KSkge1xuICAgICAgcmV0ID0gZm9ybWF0VmFsdWUoY3R4LCByZXQsIHJlY3Vyc2VUaW1lcyk7XG4gICAgfVxuICAgIHJldHVybiByZXQ7XG4gIH1cblxuICAvLyBQcmltaXRpdmUgdHlwZXMgY2Fubm90IGhhdmUgcHJvcGVydGllc1xuICB2YXIgcHJpbWl0aXZlID0gZm9ybWF0UHJpbWl0aXZlKGN0eCwgdmFsdWUpO1xuICBpZiAocHJpbWl0aXZlKSB7XG4gICAgcmV0dXJuIHByaW1pdGl2ZTtcbiAgfVxuXG4gIC8vIExvb2sgdXAgdGhlIGtleXMgb2YgdGhlIG9iamVjdC5cbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh2YWx1ZSk7XG4gIHZhciB2aXNpYmxlS2V5cyA9IGFycmF5VG9IYXNoKGtleXMpO1xuXG4gIGlmIChjdHguc2hvd0hpZGRlbikge1xuICAgIGtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gIH1cblxuICAvLyBJRSBkb2Vzbid0IG1ha2UgZXJyb3IgZmllbGRzIG5vbi1lbnVtZXJhYmxlXG4gIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9pZS9kd3c1MnNidCh2PXZzLjk0KS5hc3B4XG4gIGlmIChpc0Vycm9yKHZhbHVlKVxuICAgICAgJiYgKGtleXMuaW5kZXhPZignbWVzc2FnZScpID49IDAgfHwga2V5cy5pbmRleE9mKCdkZXNjcmlwdGlvbicpID49IDApKSB7XG4gICAgcmV0dXJuIGZvcm1hdEVycm9yKHZhbHVlKTtcbiAgfVxuXG4gIC8vIFNvbWUgdHlwZSBvZiBvYmplY3Qgd2l0aG91dCBwcm9wZXJ0aWVzIGNhbiBiZSBzaG9ydGN1dHRlZC5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgaWYgKGlzRnVuY3Rpb24odmFsdWUpKSB7XG4gICAgICB2YXIgbmFtZSA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKCdbRnVuY3Rpb24nICsgbmFtZSArICddJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gICAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgICAgcmV0dXJuIGN0eC5zdHlsaXplKFJlZ0V4cC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSksICdyZWdleHAnKTtcbiAgICB9XG4gICAgaWYgKGlzRGF0ZSh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShEYXRlLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHZhbHVlKSwgJ2RhdGUnKTtcbiAgICB9XG4gICAgaWYgKGlzRXJyb3IodmFsdWUpKSB7XG4gICAgICByZXR1cm4gZm9ybWF0RXJyb3IodmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBiYXNlID0gJycsIGFycmF5ID0gZmFsc2UsIGJyYWNlcyA9IFsneycsICd9J107XG5cbiAgLy8gTWFrZSBBcnJheSBzYXkgdGhhdCB0aGV5IGFyZSBBcnJheVxuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICBhcnJheSA9IHRydWU7XG4gICAgYnJhY2VzID0gWydbJywgJ10nXTtcbiAgfVxuXG4gIC8vIE1ha2UgZnVuY3Rpb25zIHNheSB0aGF0IHRoZXkgYXJlIGZ1bmN0aW9uc1xuICBpZiAoaXNGdW5jdGlvbih2YWx1ZSkpIHtcbiAgICB2YXIgbiA9IHZhbHVlLm5hbWUgPyAnOiAnICsgdmFsdWUubmFtZSA6ICcnO1xuICAgIGJhc2UgPSAnIFtGdW5jdGlvbicgKyBuICsgJ10nO1xuICB9XG5cbiAgLy8gTWFrZSBSZWdFeHBzIHNheSB0aGF0IHRoZXkgYXJlIFJlZ0V4cHNcbiAgaWYgKGlzUmVnRXhwKHZhbHVlKSkge1xuICAgIGJhc2UgPSAnICcgKyBSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBkYXRlcyB3aXRoIHByb3BlcnRpZXMgZmlyc3Qgc2F5IHRoZSBkYXRlXG4gIGlmIChpc0RhdGUodmFsdWUpKSB7XG4gICAgYmFzZSA9ICcgJyArIERhdGUucHJvdG90eXBlLnRvVVRDU3RyaW5nLmNhbGwodmFsdWUpO1xuICB9XG5cbiAgLy8gTWFrZSBlcnJvciB3aXRoIG1lc3NhZ2UgZmlyc3Qgc2F5IHRoZSBlcnJvclxuICBpZiAoaXNFcnJvcih2YWx1ZSkpIHtcbiAgICBiYXNlID0gJyAnICsgZm9ybWF0RXJyb3IodmFsdWUpO1xuICB9XG5cbiAgaWYgKGtleXMubGVuZ3RoID09PSAwICYmICghYXJyYXkgfHwgdmFsdWUubGVuZ3RoID09IDApKSB7XG4gICAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyBicmFjZXNbMV07XG4gIH1cblxuICBpZiAocmVjdXJzZVRpbWVzIDwgMCkge1xuICAgIGlmIChpc1JlZ0V4cCh2YWx1ZSkpIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZShSZWdFeHAucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpLCAncmVnZXhwJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjdHguc3R5bGl6ZSgnW09iamVjdF0nLCAnc3BlY2lhbCcpO1xuICAgIH1cbiAgfVxuXG4gIGN0eC5zZWVuLnB1c2godmFsdWUpO1xuXG4gIHZhciBvdXRwdXQ7XG4gIGlmIChhcnJheSkge1xuICAgIG91dHB1dCA9IGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpO1xuICB9IGVsc2Uge1xuICAgIG91dHB1dCA9IGtleXMubWFwKGZ1bmN0aW9uKGtleSkge1xuICAgICAgcmV0dXJuIGZvcm1hdFByb3BlcnR5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleSwgYXJyYXkpO1xuICAgIH0pO1xuICB9XG5cbiAgY3R4LnNlZW4ucG9wKCk7XG5cbiAgcmV0dXJuIHJlZHVjZVRvU2luZ2xlU3RyaW5nKG91dHB1dCwgYmFzZSwgYnJhY2VzKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRQcmltaXRpdmUoY3R4LCB2YWx1ZSkge1xuICBpZiAoaXNVbmRlZmluZWQodmFsdWUpKVxuICAgIHJldHVybiBjdHguc3R5bGl6ZSgndW5kZWZpbmVkJywgJ3VuZGVmaW5lZCcpO1xuICBpZiAoaXNTdHJpbmcodmFsdWUpKSB7XG4gICAgdmFyIHNpbXBsZSA9ICdcXCcnICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpLnJlcGxhY2UoL15cInxcIiQvZywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAucmVwbGFjZSgvXFxcXFwiL2csICdcIicpICsgJ1xcJyc7XG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKHNpbXBsZSwgJ3N0cmluZycpO1xuICB9XG4gIGlmIChpc051bWJlcih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdudW1iZXInKTtcbiAgaWYgKGlzQm9vbGVhbih2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCcnICsgdmFsdWUsICdib29sZWFuJyk7XG4gIC8vIEZvciBzb21lIHJlYXNvbiB0eXBlb2YgbnVsbCBpcyBcIm9iamVjdFwiLCBzbyBzcGVjaWFsIGNhc2UgaGVyZS5cbiAgaWYgKGlzTnVsbCh2YWx1ZSkpXG4gICAgcmV0dXJuIGN0eC5zdHlsaXplKCdudWxsJywgJ251bGwnKTtcbn1cblxuXG5mdW5jdGlvbiBmb3JtYXRFcnJvcih2YWx1ZSkge1xuICByZXR1cm4gJ1snICsgRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpICsgJ10nO1xufVxuXG5cbmZ1bmN0aW9uIGZvcm1hdEFycmF5KGN0eCwgdmFsdWUsIHJlY3Vyc2VUaW1lcywgdmlzaWJsZUtleXMsIGtleXMpIHtcbiAgdmFyIG91dHB1dCA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgbCA9IHZhbHVlLmxlbmd0aDsgaSA8IGw7ICsraSkge1xuICAgIGlmIChoYXNPd25Qcm9wZXJ0eSh2YWx1ZSwgU3RyaW5nKGkpKSkge1xuICAgICAgb3V0cHV0LnB1c2goZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cyxcbiAgICAgICAgICBTdHJpbmcoaSksIHRydWUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3V0cHV0LnB1c2goJycpO1xuICAgIH1cbiAgfVxuICBrZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKCFrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICBvdXRwdXQucHVzaChmb3JtYXRQcm9wZXJ0eShjdHgsIHZhbHVlLCByZWN1cnNlVGltZXMsIHZpc2libGVLZXlzLFxuICAgICAgICAgIGtleSwgdHJ1ZSkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBvdXRwdXQ7XG59XG5cblxuZnVuY3Rpb24gZm9ybWF0UHJvcGVydHkoY3R4LCB2YWx1ZSwgcmVjdXJzZVRpbWVzLCB2aXNpYmxlS2V5cywga2V5LCBhcnJheSkge1xuICB2YXIgbmFtZSwgc3RyLCBkZXNjO1xuICBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih2YWx1ZSwga2V5KSB8fCB7IHZhbHVlOiB2YWx1ZVtrZXldIH07XG4gIGlmIChkZXNjLmdldCkge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tHZXR0ZXIvU2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0ciA9IGN0eC5zdHlsaXplKCdbR2V0dGVyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChkZXNjLnNldCkge1xuICAgICAgc3RyID0gY3R4LnN0eWxpemUoJ1tTZXR0ZXJdJywgJ3NwZWNpYWwnKTtcbiAgICB9XG4gIH1cbiAgaWYgKCFoYXNPd25Qcm9wZXJ0eSh2aXNpYmxlS2V5cywga2V5KSkge1xuICAgIG5hbWUgPSAnWycgKyBrZXkgKyAnXSc7XG4gIH1cbiAgaWYgKCFzdHIpIHtcbiAgICBpZiAoY3R4LnNlZW4uaW5kZXhPZihkZXNjLnZhbHVlKSA8IDApIHtcbiAgICAgIGlmIChpc051bGwocmVjdXJzZVRpbWVzKSkge1xuICAgICAgICBzdHIgPSBmb3JtYXRWYWx1ZShjdHgsIGRlc2MudmFsdWUsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RyID0gZm9ybWF0VmFsdWUoY3R4LCBkZXNjLnZhbHVlLCByZWN1cnNlVGltZXMgLSAxKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdHIuaW5kZXhPZignXFxuJykgPiAtMSkge1xuICAgICAgICBpZiAoYXJyYXkpIHtcbiAgICAgICAgICBzdHIgPSBzdHIuc3BsaXQoJ1xcbicpLm1hcChmdW5jdGlvbihsaW5lKSB7XG4gICAgICAgICAgICByZXR1cm4gJyAgJyArIGxpbmU7XG4gICAgICAgICAgfSkuam9pbignXFxuJykuc3Vic3RyKDIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0ciA9ICdcXG4nICsgc3RyLnNwbGl0KCdcXG4nKS5tYXAoZnVuY3Rpb24obGluZSkge1xuICAgICAgICAgICAgcmV0dXJuICcgICAnICsgbGluZTtcbiAgICAgICAgICB9KS5qb2luKCdcXG4nKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzdHIgPSBjdHguc3R5bGl6ZSgnW0NpcmN1bGFyXScsICdzcGVjaWFsJyk7XG4gICAgfVxuICB9XG4gIGlmIChpc1VuZGVmaW5lZChuYW1lKSkge1xuICAgIGlmIChhcnJheSAmJiBrZXkubWF0Y2goL15cXGQrJC8pKSB7XG4gICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICBuYW1lID0gSlNPTi5zdHJpbmdpZnkoJycgKyBrZXkpO1xuICAgIGlmIChuYW1lLm1hdGNoKC9eXCIoW2EtekEtWl9dW2EtekEtWl8wLTldKilcIiQvKSkge1xuICAgICAgbmFtZSA9IG5hbWUuc3Vic3RyKDEsIG5hbWUubGVuZ3RoIC0gMik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ25hbWUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvJy9nLCBcIlxcXFwnXCIpXG4gICAgICAgICAgICAgICAgIC5yZXBsYWNlKC9cXFxcXCIvZywgJ1wiJylcbiAgICAgICAgICAgICAgICAgLnJlcGxhY2UoLyheXCJ8XCIkKS9nLCBcIidcIik7XG4gICAgICBuYW1lID0gY3R4LnN0eWxpemUobmFtZSwgJ3N0cmluZycpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBuYW1lICsgJzogJyArIHN0cjtcbn1cblxuXG5mdW5jdGlvbiByZWR1Y2VUb1NpbmdsZVN0cmluZyhvdXRwdXQsIGJhc2UsIGJyYWNlcykge1xuICB2YXIgbnVtTGluZXNFc3QgPSAwO1xuICB2YXIgbGVuZ3RoID0gb3V0cHV0LnJlZHVjZShmdW5jdGlvbihwcmV2LCBjdXIpIHtcbiAgICBudW1MaW5lc0VzdCsrO1xuICAgIGlmIChjdXIuaW5kZXhPZignXFxuJykgPj0gMCkgbnVtTGluZXNFc3QrKztcbiAgICByZXR1cm4gcHJldiArIGN1ci5yZXBsYWNlKC9cXHUwMDFiXFxbXFxkXFxkP20vZywgJycpLmxlbmd0aCArIDE7XG4gIH0sIDApO1xuXG4gIGlmIChsZW5ndGggPiA2MCkge1xuICAgIHJldHVybiBicmFjZXNbMF0gK1xuICAgICAgICAgICAoYmFzZSA9PT0gJycgPyAnJyA6IGJhc2UgKyAnXFxuICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgb3V0cHV0LmpvaW4oJyxcXG4gICcpICtcbiAgICAgICAgICAgJyAnICtcbiAgICAgICAgICAgYnJhY2VzWzFdO1xuICB9XG5cbiAgcmV0dXJuIGJyYWNlc1swXSArIGJhc2UgKyAnICcgKyBvdXRwdXQuam9pbignLCAnKSArICcgJyArIGJyYWNlc1sxXTtcbn1cblxuXG4vLyBOT1RFOiBUaGVzZSB0eXBlIGNoZWNraW5nIGZ1bmN0aW9ucyBpbnRlbnRpb25hbGx5IGRvbid0IHVzZSBgaW5zdGFuY2VvZmBcbi8vIGJlY2F1c2UgaXQgaXMgZnJhZ2lsZSBhbmQgY2FuIGJlIGVhc2lseSBmYWtlZCB3aXRoIGBPYmplY3QuY3JlYXRlKClgLlxuZnVuY3Rpb24gaXNBcnJheShhcikge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShhcik7XG59XG5leHBvcnRzLmlzQXJyYXkgPSBpc0FycmF5O1xuXG5mdW5jdGlvbiBpc0Jvb2xlYW4oYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnYm9vbGVhbic7XG59XG5leHBvcnRzLmlzQm9vbGVhbiA9IGlzQm9vbGVhbjtcblxuZnVuY3Rpb24gaXNOdWxsKGFyZykge1xuICByZXR1cm4gYXJnID09PSBudWxsO1xufVxuZXhwb3J0cy5pc051bGwgPSBpc051bGw7XG5cbmZ1bmN0aW9uIGlzTnVsbE9yVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09IG51bGw7XG59XG5leHBvcnRzLmlzTnVsbE9yVW5kZWZpbmVkID0gaXNOdWxsT3JVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzTnVtYmVyKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ251bWJlcic7XG59XG5leHBvcnRzLmlzTnVtYmVyID0gaXNOdW1iZXI7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N0cmluZyc7XG59XG5leHBvcnRzLmlzU3RyaW5nID0gaXNTdHJpbmc7XG5cbmZ1bmN0aW9uIGlzU3ltYm9sKGFyZykge1xuICByZXR1cm4gdHlwZW9mIGFyZyA9PT0gJ3N5bWJvbCc7XG59XG5leHBvcnRzLmlzU3ltYm9sID0gaXNTeW1ib2w7XG5cbmZ1bmN0aW9uIGlzVW5kZWZpbmVkKGFyZykge1xuICByZXR1cm4gYXJnID09PSB2b2lkIDA7XG59XG5leHBvcnRzLmlzVW5kZWZpbmVkID0gaXNVbmRlZmluZWQ7XG5cbmZ1bmN0aW9uIGlzUmVnRXhwKHJlKSB7XG4gIHJldHVybiBpc09iamVjdChyZSkgJiYgb2JqZWN0VG9TdHJpbmcocmUpID09PSAnW29iamVjdCBSZWdFeHBdJztcbn1cbmV4cG9ydHMuaXNSZWdFeHAgPSBpc1JlZ0V4cDtcblxuZnVuY3Rpb24gaXNPYmplY3QoYXJnKSB7XG4gIHJldHVybiB0eXBlb2YgYXJnID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG59XG5leHBvcnRzLmlzT2JqZWN0ID0gaXNPYmplY3Q7XG5cbmZ1bmN0aW9uIGlzRGF0ZShkKSB7XG4gIHJldHVybiBpc09iamVjdChkKSAmJiBvYmplY3RUb1N0cmluZyhkKSA9PT0gJ1tvYmplY3QgRGF0ZV0nO1xufVxuZXhwb3J0cy5pc0RhdGUgPSBpc0RhdGU7XG5cbmZ1bmN0aW9uIGlzRXJyb3IoZSkge1xuICByZXR1cm4gaXNPYmplY3QoZSkgJiZcbiAgICAgIChvYmplY3RUb1N0cmluZyhlKSA9PT0gJ1tvYmplY3QgRXJyb3JdJyB8fCBlIGluc3RhbmNlb2YgRXJyb3IpO1xufVxuZXhwb3J0cy5pc0Vycm9yID0gaXNFcnJvcjtcblxuZnVuY3Rpb24gaXNGdW5jdGlvbihhcmcpIHtcbiAgcmV0dXJuIHR5cGVvZiBhcmcgPT09ICdmdW5jdGlvbic7XG59XG5leHBvcnRzLmlzRnVuY3Rpb24gPSBpc0Z1bmN0aW9uO1xuXG5mdW5jdGlvbiBpc1ByaW1pdGl2ZShhcmcpIHtcbiAgcmV0dXJuIGFyZyA9PT0gbnVsbCB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICB0eXBlb2YgYXJnID09PSAnbnVtYmVyJyB8fFxuICAgICAgICAgdHlwZW9mIGFyZyA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgIHR5cGVvZiBhcmcgPT09ICdzeW1ib2wnIHx8ICAvLyBFUzYgc3ltYm9sXG4gICAgICAgICB0eXBlb2YgYXJnID09PSAndW5kZWZpbmVkJztcbn1cbmV4cG9ydHMuaXNQcmltaXRpdmUgPSBpc1ByaW1pdGl2ZTtcblxuZXhwb3J0cy5pc0J1ZmZlciA9IHJlcXVpcmUoJy4vc3VwcG9ydC9pc0J1ZmZlcicpO1xuXG5mdW5jdGlvbiBvYmplY3RUb1N0cmluZyhvKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyk7XG59XG5cblxuZnVuY3Rpb24gcGFkKG4pIHtcbiAgcmV0dXJuIG4gPCAxMCA/ICcwJyArIG4udG9TdHJpbmcoMTApIDogbi50b1N0cmluZygxMCk7XG59XG5cblxudmFyIG1vbnRocyA9IFsnSmFuJywgJ0ZlYicsICdNYXInLCAnQXByJywgJ01heScsICdKdW4nLCAnSnVsJywgJ0F1ZycsICdTZXAnLFxuICAgICAgICAgICAgICAnT2N0JywgJ05vdicsICdEZWMnXTtcblxuLy8gMjYgRmViIDE2OjE5OjM0XG5mdW5jdGlvbiB0aW1lc3RhbXAoKSB7XG4gIHZhciBkID0gbmV3IERhdGUoKTtcbiAgdmFyIHRpbWUgPSBbcGFkKGQuZ2V0SG91cnMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldE1pbnV0ZXMoKSksXG4gICAgICAgICAgICAgIHBhZChkLmdldFNlY29uZHMoKSldLmpvaW4oJzonKTtcbiAgcmV0dXJuIFtkLmdldERhdGUoKSwgbW9udGhzW2QuZ2V0TW9udGgoKV0sIHRpbWVdLmpvaW4oJyAnKTtcbn1cblxuXG4vLyBsb2cgaXMganVzdCBhIHRoaW4gd3JhcHBlciB0byBjb25zb2xlLmxvZyB0aGF0IHByZXBlbmRzIGEgdGltZXN0YW1wXG5leHBvcnRzLmxvZyA9IGZ1bmN0aW9uKCkge1xuICBjb25zb2xlLmxvZygnJXMgLSAlcycsIHRpbWVzdGFtcCgpLCBleHBvcnRzLmZvcm1hdC5hcHBseShleHBvcnRzLCBhcmd1bWVudHMpKTtcbn07XG5cblxuLyoqXG4gKiBJbmhlcml0IHRoZSBwcm90b3R5cGUgbWV0aG9kcyBmcm9tIG9uZSBjb25zdHJ1Y3RvciBpbnRvIGFub3RoZXIuXG4gKlxuICogVGhlIEZ1bmN0aW9uLnByb3RvdHlwZS5pbmhlcml0cyBmcm9tIGxhbmcuanMgcmV3cml0dGVuIGFzIGEgc3RhbmRhbG9uZVxuICogZnVuY3Rpb24gKG5vdCBvbiBGdW5jdGlvbi5wcm90b3R5cGUpLiBOT1RFOiBJZiB0aGlzIGZpbGUgaXMgdG8gYmUgbG9hZGVkXG4gKiBkdXJpbmcgYm9vdHN0cmFwcGluZyB0aGlzIGZ1bmN0aW9uIG5lZWRzIHRvIGJlIHJld3JpdHRlbiB1c2luZyBzb21lIG5hdGl2ZVxuICogZnVuY3Rpb25zIGFzIHByb3RvdHlwZSBzZXR1cCB1c2luZyBub3JtYWwgSmF2YVNjcmlwdCBkb2VzIG5vdCB3b3JrIGFzXG4gKiBleHBlY3RlZCBkdXJpbmcgYm9vdHN0cmFwcGluZyAoc2VlIG1pcnJvci5qcyBpbiByMTE0OTAzKS5cbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHdoaWNoIG5lZWRzIHRvIGluaGVyaXQgdGhlXG4gKiAgICAgcHJvdG90eXBlLlxuICogQHBhcmFtIHtmdW5jdGlvbn0gc3VwZXJDdG9yIENvbnN0cnVjdG9yIGZ1bmN0aW9uIHRvIGluaGVyaXQgcHJvdG90eXBlIGZyb20uXG4gKi9cbmV4cG9ydHMuaW5oZXJpdHMgPSByZXF1aXJlKCdpbmhlcml0cycpO1xuXG5leHBvcnRzLl9leHRlbmQgPSBmdW5jdGlvbihvcmlnaW4sIGFkZCkge1xuICAvLyBEb24ndCBkbyBhbnl0aGluZyBpZiBhZGQgaXNuJ3QgYW4gb2JqZWN0XG4gIGlmICghYWRkIHx8ICFpc09iamVjdChhZGQpKSByZXR1cm4gb3JpZ2luO1xuXG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoYWRkKTtcbiAgdmFyIGkgPSBrZXlzLmxlbmd0aDtcbiAgd2hpbGUgKGktLSkge1xuICAgIG9yaWdpbltrZXlzW2ldXSA9IGFkZFtrZXlzW2ldXTtcbiAgfVxuICByZXR1cm4gb3JpZ2luO1xufTtcblxuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cbiIsImltcG9ydCB7IGlzTnVsbCB9IGZyb20gJ3V0aWwnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGRpZmZlcmVuY2UgPSAoc291cmNlLCBpbnB1dHMpID0+IHtcclxuICBjb25zdCBmbGF0QXJyYXkgPSBpbnB1dHMuZmlsdGVyKGkgPT4gKCFpc051bGwoaSkgJiYgdHlwZW9mIGkgIT09ICd1bmRlZmluZWQnKSkubWFwKGkgPT4gaSBpbnN0YW5jZW9mIE9iamVjdCA/IEpTT04uc3RyaW5naWZ5KGkpIDogaSk7XHJcbiAgbGV0IGRpZmZzID0gc291cmNlXHJcbiAgLmZpbHRlcihpID0+ICghaXNOdWxsKGkpICYmIHR5cGVvZiBpICE9PSAndW5kZWZpbmVkJykpXHJcbiAgLmZpbHRlcigoaSkgPT4ge1xyXG4gICAgY29uc3QgZSA9IGkgaW5zdGFuY2VvZiBPYmplY3QgPyBKU09OLnN0cmluZ2lmeShpKSA6IGk7XHJcbiAgICBjb25zdCBpbmRleCA9IGZsYXRBcnJheS5pbmRleE9mKGUpO1xyXG4gICAgaWYgKGluZGV4ID49IDApIGZsYXRBcnJheS5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gICAgcmV0dXJuICEoaW5kZXggPj0gMCk7XHJcbiAgfSk7XHJcbiAgcmV0dXJuIGRpZmZzO1xyXG59OyIsImltcG9ydCB7IGRpZmZlcmVuY2UgfSBmcm9tICcuL3V0aWxzL3NyYy9hcnJheS9kaWZmZXJlbmNlJztcclxuXHJcbmNvbnN0IG5SZWdFeCA9IG5ldyBSZWdFeHAoL1tcXC1cXCtdezAsMX1cXGQrKFxcLlxcZCspPy8sICdnJyk7XHJcbmNvbnN0IG1heFJlZ0V4ID0gbmV3IFJlZ0V4cCgvXj5cXGQrKFxcLlxcZCspPyQvKTtcclxuY29uc3QgbWluUmVnRXggPSBuZXcgUmVnRXhwKC9ePFxcZCsoXFwuXFxkKyk/JC8pO1xyXG5jb25zdCByYW5nZVJlZ0V4ID0gbmV3IFJlZ0V4cCgvXlxcZCsoXFwuXFxkKyk/PD5cXGQrKFxcLlxcZCspPyQvKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0ICh7XHJcbiAgdmFsaWRhdGUoaW5wdXQsIHNjaGVtYSwgc3RyaWN0ID0gZmFsc2UpIHtcclxuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhzY2hlbWEpO1xyXG4gICAgY29uc3Qgbm90VmFyS2V5cyA9IGtleXMuZmlsdGVyKGsgPT4gIWsuaW5jbHVkZXMoJz8nKSk7XHJcbiAgICBjb25zdCBpbnB1dEtleXMgPSBPYmplY3Qua2V5cyhpbnB1dCk7XHJcbiAgICBjb25zdCBrZXlEaWZmZXJlbmNlID0gZGlmZmVyZW5jZShub3RWYXJLZXlzLCBpbnB1dEtleXMpO1xyXG5cclxuICAgIGlmIChrZXlEaWZmZXJlbmNlLmxlbmd0aCA+IDApIHJldHVybiB0aGlzLmxvZ0Vycm9yKHtcclxuICAgICAgaW5wdXQsXHJcbiAgICAgIHNvdXJjZToga2V5cyxcclxuICAgICAgdmFsaWQ6IGZhbHNlLFxyXG4gICAgICBtZXNzYWdlOiBgVmFsaWRhdGlvbkVycm9yOiAke0pTT04uc3RyaW5naWZ5KGlucHV0KX0gbWlzc2luZyBrZXlzIFske2tleURpZmZlcmVuY2V9XWBcclxuICAgIH0pO1xyXG5cclxuICAgIGlucHV0S2V5cy5mb3JFYWNoKGtleSA9PiB7XHJcbiAgICAgIGNvbnN0IHNvdXJjZSA9IChzY2hlbWFba2V5XSB8fCBzY2hlbWFbYD8ke2tleX1gXSk7XHJcbiAgICAgIGlmIChzb3VyY2UpIHRoaXMuY2hlY2soaW5wdXRba2V5XSwgc291cmNlKTtcclxuICAgICAgZWxzZSBpZiAoIXNvdXJjZSAmJiBzdHJpY3QpIHJldHVybiB0aGlzLmNoZWNrQXJyYXkoaW5wdXRLZXlzLCBrZXlzKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH0sXHJcbiAgY2hlY2soaW5wdXQsIHNvdXJjZSkge1xyXG4gICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSByZXR1cm4gdGhpcy5jaGVja1R5cGUoaW5wdXQsIHNvdXJjZSk7XHJcbiAgICBjb25zdCBudW1iZXJUZXN0ID0gKG1heFJlZ0V4LnRlc3Qoc291cmNlKSB8fCBtaW5SZWdFeC50ZXN0KHNvdXJjZSkgfHwgcmFuZ2VSZWdFeC50ZXN0KHNvdXJjZSkpIHx8IHRoaXMuZ2V0VHlwZShzb3VyY2UpID09PSAnTnVtYmVyJztcclxuICAgIGNvbnN0IHN0cmluZ1Rlc3QgPSB0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJyB8fCBzb3VyY2UgaW5zdGFuY2VvZiBSZWdFeHAgfHwgdGhpcy5nZXRUeXBlKHNvdXJjZSkgPT09ICdTdHJpbmcnO1xyXG4gICAgY29uc3QgYXJyYXlUZXN0ID0gc291cmNlIGluc3RhbmNlb2YgQXJyYXk7XHJcbiAgICBjb25zdCBvYmplY3RUZXN0ID0gdGhpcy5nZXRUeXBlKHNvdXJjZSkgPT09ICdPYmplY3QnO1xyXG5cclxuICAgIGlmIChudW1iZXJUZXN0KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmNoZWNrTnVtYmVyKGlucHV0LCBzb3VyY2UpO1xyXG4gICAgfSBlbHNlIGlmIChzdHJpbmdUZXN0KSB7XHJcbiAgICAgIHJldHVybiB0aGlzLmNoZWNrU3RyaW5nKGlucHV0LCBzb3VyY2UpO1xyXG4gICAgfSBlbHNlIGlmIChhcnJheVRlc3QpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuY2hlY2tBcnJheShpbnB1dCwgc291cmNlKTtcclxuICAgIH0gZWxzZSBpZiAoIW9iamVjdFRlc3QpIHtcclxuICAgICAgcmV0dXJuIHRoaXMuY2hlY2tPYmplY3QoaW5wdXQsIHNvdXJjZSk7XHJcbiAgICB9XHJcblxyXG4gIH0sXHJcbiAgY2hlY2tUeXBlKGlucHV0LCBzb3VyY2UpIHtcclxuICAgIGNvbnN0IHQgPSBpbnB1dCA/IGAkeyh0aGlzLmdldFR5cGUoc291cmNlKVswXSkudG9Mb3dlckNhc2UoKX0ke3RoaXMuZ2V0VHlwZShzb3VyY2UpLnNsaWNlKDEpfWAgOiB0cnVlO1xyXG4gICAgY29uc3QgdElucHV0ID0gaW5wdXQgPyBgJHsoaW5wdXQuY29uc3RydWN0b3IubmFtZVswXSkudG9Mb3dlckNhc2UoKX0ke2lucHV0LmNvbnN0cnVjdG9yLm5hbWUuc2xpY2UoMSl9YCA6IGZhbHNlO1xyXG4gICAgaWYgKHQgIT09IHRJbnB1dCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5sb2dFcnJvcih7XHJcbiAgICAgICAgaW5wdXQsXHJcbiAgICAgICAgc291cmNlLFxyXG4gICAgICAgIHZhbGlkOiBmYWxzZSxcclxuICAgICAgICBtZXNzYWdlOiBgJHtKU09OLnN0cmluZ2lmeShpbnB1dCl9IHNob3VsZCBiZSBvZiB0eXBlICR7dGhpcy5nZXRUeXBlKHNvdXJjZSl9YFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH0sXHJcbiAgY2hlY2tTdHJpbmcoaW5wdXQsIHNvdXJjZSkge1xyXG4gICAgaWYgKHNvdXJjZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xyXG4gICAgICByZXR1cm4gdGhpcy5sb2dFcnJvcih7XHJcbiAgICAgICAgaW5wdXQsXHJcbiAgICAgICAgc291cmNlLFxyXG4gICAgICAgIHZhbGlkOiBzb3VyY2UudGVzdChpbnB1dCksXHJcbiAgICAgIH0pO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIHRoaXMubG9nRXJyb3Ioe1xyXG4gICAgICAgIGlucHV0LFxyXG4gICAgICAgIHNvdXJjZSxcclxuICAgICAgICB2YWxpZDogc291cmNlID09PSBpbnB1dCxcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfSxcclxuICBjaGVja051bWJlcihpbnB1dCwgc291cmNlKSB7XHJcbiAgICBjb25zdCBtaW5UZXN0ID0gbWluUmVnRXgudGVzdChzb3VyY2UpO1xyXG4gICAgY29uc3QgbWF4VGVzdCA9IG1heFJlZ0V4LnRlc3Qoc291cmNlKTtcclxuICAgIGNvbnN0IHJhbmdlVGVzdCA9IHJhbmdlUmVnRXgudGVzdChzb3VyY2UpO1xyXG5cclxuICAgIGlmIChyYW5nZVRlc3QgJiYgIW1pblRlc3QgJiYgIW1heFRlc3QpIHtcclxuICAgICAgY29uc3QgbWF0Y2hNaW4gPSBzb3VyY2UubWF0Y2goblJlZ0V4KVswXVxyXG4gICAgICBjb25zdCBtaW4gPSBwYXJzZUZsb2F0KG1hdGNoTWluKTtcclxuICAgICAgY29uc3QgbWF0Y2hNYXggPSBzb3VyY2UubWF0Y2goblJlZ0V4KVsxXTtcclxuICAgICAgY29uc3QgbWF4ID0gcGFyc2VGbG9hdChtYXRjaE1heCk7XHJcbiAgICAgIHJldHVybiB0aGlzLmxvZ0Vycm9yKHtcclxuICAgICAgICBpbnB1dCxcclxuICAgICAgICBzb3VyY2UsXHJcbiAgICAgICAgdmFsaWQ6IGlucHV0IDwgbWF4ICYmIGlucHV0ID4gbWluLFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAobWF4VGVzdCAmJiAhbWluVGVzdCAmJiAhcmFuZ2VUZXN0KSB7XHJcbiAgICAgIGNvbnN0IG1hdGNoID0gc291cmNlLm1hdGNoKG5SZWdFeClbMF07XHJcbiAgICAgIGNvbnN0IG4gPSBwYXJzZUZsb2F0KG1hdGNoKTtcclxuICAgICAgcmV0dXJuIHRoaXMubG9nRXJyb3Ioe1xyXG4gICAgICAgIGlucHV0LFxyXG4gICAgICAgIHNvdXJjZSxcclxuICAgICAgICB2YWxpZDogaW5wdXQgPiBuLFxyXG4gICAgICB9KTtcclxuICAgIH0gZWxzZSBpZiAobWluVGVzdCAmJiAhcmFuZ2VUZXN0ICYmICFtYXhUZXN0KSB7XHJcbiAgICAgIGNvbnN0IG1hdGNoID0gc291cmNlLm1hdGNoKG5SZWdFeClbMF07XHJcbiAgICAgIGNvbnN0IG4gPSBwYXJzZUZsb2F0KG1hdGNoKTtcclxuICAgICAgcmV0dXJuIHRoaXMubG9nRXJyb3Ioe1xyXG4gICAgICAgIGlucHV0LFxyXG4gICAgICAgIHNvdXJjZSxcclxuICAgICAgICB2YWxpZDogaW5wdXQgPCBuLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9LFxyXG4gIGNoZWNrQXJyYXkoaW5wdXQsIHNvdXJjZSkge1xyXG4gICAgY29uc3QgZGlmZnMgPSBkaWZmZXJlbmNlKHNvdXJjZSwgaW5wdXQpO1xyXG4gICAgcmV0dXJuIHRoaXMubG9nRXJyb3Ioe1xyXG4gICAgICBpbnB1dDogSlNPTi5zdHJpbmdpZnkoaW5wdXQpLFxyXG4gICAgICBzb3VyY2U6IEpTT04uc3RyaW5naWZ5KHNvdXJjZSksXHJcbiAgICAgIHZhbGlkOiBkaWZmcy5sZW5ndGggPT09IDAsXHJcbiAgICB9KTtcclxuICB9LFxyXG4gIGNoZWNrT2JqZWN0KGlucHV0LCBzb3VyY2UpIHtcclxuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlKGlucHV0LCBzb3VyY2UpO1xyXG4gIH0sXHJcbiAgbG9nRXJyb3IoZXJyb3IpIHtcclxuICAgIGNvbnN0IG1lc3NhZ2UgPSBgVmFsaWRhdGlvbkVycm9yOiAke2Vycm9yLmlucHV0fSB0eXBlOiR7dHlwZW9mIGVycm9yLmlucHV0fSBtdXN0IHJlc3BlY3QgJHtlcnJvci5zb3VyY2V9IHR5cGU6JHt0eXBlb2YgZXJyb3Iuc291cmNlfWA7XHJcbiAgICBpZiAoIWVycm9yLnZhbGlkKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoZXJyb3IubWVzc2FnZSB8fCBtZXNzYWdlKTtcclxuICAgIH1cclxuICAgIHJldHVybiBudWxsO1xyXG4gIH0sXHJcbiAgZ2V0VHlwZShzb3VyY2UpIHtcclxuICAgIHJldHVybiBzb3VyY2UubmFtZSB8fCB0eXBlb2Ygc291cmNlO1xyXG4gIH1cclxufSk7Il0sInNvdXJjZVJvb3QiOiIifQ==